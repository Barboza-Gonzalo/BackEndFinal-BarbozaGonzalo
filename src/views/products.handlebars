<h1>Lista de Productos</h1>
<div>
    {{#each payload }}
    <div>
        <h2>{{this.title}} {{this.description}}</h2>
        <img src="{{this.thumbnail}}" width="100" height="100" alt="">
        <p>${{this.price}}- - -ID:{{this.id}}</p>
        <button data-id="{{this.id}}" class="addCart" >Add to cart</button>
    </div>
    <br />
    {{/each}}
</div>
<br />
<div>
    {{#if hasPrevPage}}
    <a href={{this.prevLink}}>
        << Anterior</a>
            {{/if}}
            &nbsp;
            {{this.page}}
            &nbsp;
            {{#if hasNextPage}}
            <a href={{this.nextLink}}>Siguiente >></a>
            {{/if}}
</div>

<script src="/socket.io/socket.io.js"></script>
<script>
    const socket = io();


 
    document.querySelectorAll(".addCart").forEach(button => {
        button.addEventListener("click", () => {
            const productId = button.getAttribute("data-id");
            socket.emit("addToCart", { productId });
        });
    });


</script>